@using ScrumPoker.Models;
@using ScrumPoker.Services;
@using ScrumPoker.ViewModels.Poker;
@model PokerVm
@{
    ViewBag.Title = "Scrum Poker";
}
    @section scripts  {
        @Html.Partial("_ScrumPokerJs", Model)<br />
    }
<h2>Project - <span id="spnProjectName">@Html.DisplayFor(model => model.ProjectName)</span></h2>
@using (Html.BeginForm("Vote", "Poker", FormMethod.Post))
{
        <br />
        <div>
        <div>First Name*</div>
    @Html.TextBox("firstName", (string)ViewBag.FirstName, new { id = "firstName", maxlength = "12", size = "12", list = "users" })
    <datalist id="users">
        @foreach (User user in Users.UserList)
        {
            <option>@user.UserName</option>
        }
    </datalist>
    </div>
    <br />    
    <div>
    @Html.TextBox("estimate", (string)ViewBag.estimate, new { id = "estimate", @style = "width:35px; background-color:red;font-size: xx-large;", type = "number" })
    @Html.Hidden("projectid", Model.ProjectId)
    @{
        string disabled = Model.ProjectId > 0 ? "" : "disabled";
    <input id="SubmitVote" type="button" value="Vote" @disabled/>
    }
    </div>
    @Html.Partial("_UserVotes")     
}
@Html.Partial("_UserList", Model)<br />

@*@if ( SiteAdminSvc.IsSiteAdmin(User.Identity.Name) )
{
    using (Html.BeginForm("MakeRoles", "Poker", FormMethod.Post))
    {
        <input type="submit" value="Add Roles"/>
    }
}*@